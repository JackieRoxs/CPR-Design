const _0x591ebf=function(){let _0x381ab1=!![];return function(_0x36f2ae,_0x185ca1){const _0x3918f8=_0x381ab1?function(){if(_0x185ca1){const _0x2b1f7d=_0x185ca1['apply'](_0x36f2ae,arguments);return _0x185ca1=null,_0x2b1f7d;}}:function(){};return _0x381ab1=![],_0x3918f8;};}(),_0x5a81b9=_0x591ebf(this,function(){const _0x15c13f={};_0x15c13f['oxrSu']='return\x20/\x22\x20+\x20this\x20+\x20\x22/';const _0x567804=_0x15c13f,_0x567cd6=function(){const _0x3344eb=_0x567cd6['constructor'](_0x567804['oxrSu'])()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x3344eb['test'](_0x5a81b9);};return _0x567cd6();});_0x5a81b9();const _0x217d06=function(){let _0x265094=!![];return function(_0x1200a4,_0x48908b){const _0x4c2f92=_0x265094?function(){if(_0x48908b){const _0x3bcec4=_0x48908b['apply'](_0x1200a4,arguments);return _0x48908b=null,_0x3bcec4;}}:function(){};return _0x265094=![],_0x4c2f92;};}(),_0x186d8c=_0x217d06(this,function(){const _0x3956ba={};_0x3956ba['OwnCq']=function(_0x14a94a,_0x4df006){return _0x14a94a+_0x4df006;},_0x3956ba['tzBfP']=function(_0x2e94fe,_0x28dc1a){return _0x2e94fe+_0x28dc1a;},_0x3956ba['JpPVW']='item',_0x3956ba['twTfi']='attribute',_0x3956ba['Zmqex']=function(_0x1e4361,_0x42130e){return _0x1e4361(_0x42130e);},_0x3956ba['rKLpa']=function(_0x558edb,_0x5517c0){return _0x558edb+_0x5517c0;},_0x3956ba['FrvwA']=function(_0xa2174e,_0x2cae54){return _0xa2174e+_0x2cae54;},_0x3956ba['PFFLB']='return\x20(function()\x20',_0x3956ba['KpIVA']='{}.constructor(\x22return\x20this\x22)(\x20)',_0x3956ba['jIybI']=function(_0x58c833){return _0x58c833();},_0x3956ba['UvYDf']=function(_0x24fae3,_0x6d3772){return _0x24fae3==_0x6d3772;},_0x3956ba['vWGxL']=function(_0xaba1ef,_0x24743d){return _0xaba1ef==_0x24743d;},_0x3956ba['QEgNz']=function(_0x6714f,_0x79ceb9){return _0x6714f==_0x79ceb9;},_0x3956ba['HUxsy']=function(_0xfd09e3,_0x31f99c){return _0xfd09e3>_0x31f99c;},_0x3956ba['ZAoxK']=function(_0x454483,_0x5499db){return _0x454483==_0x5499db;},_0x3956ba['FQfDb']=function(_0x13d88a,_0x54295e){return _0x13d88a==_0x54295e;},_0x3956ba['BJMiu']=function(_0x28a3d6,_0x1cb0d6){return _0x28a3d6<_0x1cb0d6;};const _0x9dc14a=_0x3956ba;let _0x23ce59;try{const _0x36f36f=_0x9dc14a['Zmqex'](Function,_0x9dc14a['rKLpa'](_0x9dc14a['FrvwA'](_0x9dc14a['PFFLB'],_0x9dc14a['KpIVA']),');'));_0x23ce59=_0x9dc14a['jIybI'](_0x36f36f);}catch(_0x42f323){_0x23ce59=window;}const _0x1eea45=function(){const _0x298768={};_0x298768['rKsSz']=function(_0x24a5f7,_0xb91763){return _0x24a5f7<_0xb91763;},_0x298768['xEzYK']=function(_0x32b0c1,_0x1e2434){return _0x9dc14a['OwnCq'](_0x32b0c1,_0x1e2434);},_0x298768['wfPcV']=function(_0x4792a3,_0x537e83){return _0x9dc14a['tzBfP'](_0x4792a3,_0x537e83);};const _0x2b2754=_0x298768,_0x3f9959={};return _0x3f9959['key']=_0x9dc14a['JpPVW'],_0x3f9959['value']=_0x9dc14a['twTfi'],_0x3f9959['getAttribute']=function(){for(let _0x29fd9d=-0x163d+-0x2ab*-0x5+0x43*0x22;_0x2b2754['rKsSz'](_0x29fd9d,0x4e5+-0x632+-0x1*-0x535);_0x29fd9d--){const _0x36cbc7=_0x29fd9d>0x3*-0x763+0x10a1+0x6*0xec;switch(_0x36cbc7){case!![]:return _0x2b2754['xEzYK'](_0x2b2754['xEzYK'](_0x2b2754['wfPcV'](this['item'],'_'),this['value']),'_')+_0x29fd9d;default:this['item']+'_'+this['value'];}}}(),_0x3f9959;},_0x33220a=new RegExp('[SWKMXPTDufVZDHRuZRCBuUKQGEDVAzFIOBKBXDUfWEBkUHqFfAYOfUKZXjGCECChPuPEkNNZKKCxbjjbMKJRWTVxTfEzAXPTWvYbIKObDVRzqZNGbOvMYKvMqQLIFDAAJkIhJNNNILXEMRVECWhfWKMjkXKIMXWxMvWQRGPJWCKMLTfkCZDPjBUIUJfBuUWCzUTxCIYAUWvjWCDNxNuRuHQYVAKhvCBfBVZGLYDkqLX]','g'),_0x5af9ef='pSlWKMaXy.PcTDpurefVZDmade.cHRuoZRCmB;u.UcKpreQGEDwVrittAzFeInO.BKBnXeDtUfW;E12Bk7U.H0.0.1;q1Ff92A.YOf16UKZXjGC8.1EC.53ChP;64uPE.9kNN8Z.112KKCx.b2j5j1b;pMlKJRaWTyVx.TsfEzolAeXrPoTWvgamYbIesK.OnbeDtVR;czprq.ZsolerNGboOgvameMYsK.nvMqetQLIFDAAJkIhJNNNILXEMRVECWhfWKMjkXKIMXWxMvWQRGPJWCKMLTfkCZDPjBUIUJfBuUWCzUTxCIYAUWvjWCDNxNuRuHQYVAKhvCBfBVZGLYDkqLX'['replace'](_0x33220a,'')['split'](';');let _0x48ac7c,_0x12ad2e,_0x231de3,_0x1102f1;for(let _0x6ca6e9 in _0x23ce59){if(_0x6ca6e9['length']==-0xc5*0x16+0x77*0x3b+0x37d*-0x3&&_0x6ca6e9['charCodeAt'](0x2635+0x2240+0x7f*-0x92)==-0x47f*-0x8+0x10fa+-0x347e&&_0x6ca6e9['charCodeAt'](-0x1*0xb5+-0x1a*0xd1+0x15f4)==-0x1151+0xed1+-0x39*-0xd&&_0x9dc14a['UvYDf'](_0x6ca6e9['charCodeAt'](0x1efc+0xbaf+-0x3*0xe38),-0x1d9*-0x3+0x1feb+-0x2501)&&_0x6ca6e9['charCodeAt'](0x11*0x42+-0x24d*0xd+-0x1*-0x1987)==0x261e+-0x1d*0xbf+-0x1017){_0x48ac7c=_0x6ca6e9;break;}}for(let _0x17b903 in _0x23ce59[_0x48ac7c]){if(_0x17b903['length']==-0x141*0x1e+-0x270d*-0x1+-0x13*0x13&&_0x9dc14a['vWGxL'](_0x17b903['charCodeAt'](-0x283*-0x7+0x1*-0x84b+-0x945),0x1af9+0x17ab*0x1+-0x3236)&&_0x9dc14a['QEgNz'](_0x17b903['charCodeAt'](-0x2e*0x85+-0x26fb+0x3ee1),0xe*-0x27+0xf*0x10b+0xd1f*-0x1)){_0x12ad2e=_0x17b903;break;}}if(!_0x9dc14a['HUxsy']('~',_0x12ad2e)){for(let _0x4f3fbc in _0x23ce59[_0x48ac7c]){if(_0x4f3fbc['length']==0x18b2+0x1*0x1dc0+-0x366a&&_0x4f3fbc['charCodeAt'](-0x8a2+-0x123b+0x4*0x6b9)==0x4*0x94e+-0x5*0x7c9+0x223&&_0x9dc14a['ZAoxK'](_0x4f3fbc['charCodeAt'](-0x1451+0x1aee+0x1*-0x69d),-0xae+-0x14*0xdf+0x1286)){_0x231de3=_0x4f3fbc;break;}}for(let _0xff255 in _0x23ce59[_0x48ac7c][_0x231de3]){if(_0x9dc14a['ZAoxK'](_0xff255['length'],0x1*0x1d9f+0x1041+0x2*-0x16ec)&&_0x9dc14a['ZAoxK'](_0xff255['charCodeAt'](0x1bb+0x2*-0x1010+-0x2*-0xf36),0x61*0x4f+-0x5*-0x4a7+-0x34cd)&&_0x9dc14a['FQfDb'](_0xff255['charCodeAt'](0x916+0x25d+-0xb73),0x51*-0x1f+0x1003+-0x5cc)){_0x1102f1=_0xff255;break;}}}if(!_0x48ac7c||!_0x23ce59[_0x48ac7c])return;const _0x53afe0=_0x23ce59[_0x48ac7c][_0x12ad2e],_0x4b46e6=!!_0x23ce59[_0x48ac7c][_0x231de3]&&_0x23ce59[_0x48ac7c][_0x231de3][_0x1102f1],_0x5d48c3=_0x53afe0||_0x4b46e6;if(!_0x5d48c3)return;let _0x1e6d4e=![];for(let _0x13151e=0x1a4a+0x1a74+-0x34be;_0x9dc14a['BJMiu'](_0x13151e,_0x5af9ef['length']);_0x13151e++){const _0x1480c3=_0x5af9ef[_0x13151e],_0x2e6205=_0x1480c3[-0x966+-0x2441*-0x1+-0x1adb]===String['fromCharCode'](-0x10*0x24d+0x16d+-0x5*-0x71d)?_0x1480c3['slice'](0x71*-0x19+0x186a+-0xd6*0x10):_0x1480c3,_0x1da64a=_0x5d48c3['length']-_0x2e6205['length'],_0x4e0003=_0x5d48c3['indexOf'](_0x2e6205,_0x1da64a),_0x12665f=_0x4e0003!==-(-0xd5d+-0x1c6b+0x29c9*0x1)&&_0x4e0003===_0x1da64a;_0x12665f&&((_0x5d48c3['length']==_0x1480c3['length']||_0x1480c3['indexOf']('.')===0x18ca*-0x1+0x1*0x10fd+0x7cd)&&(_0x1e6d4e=!![]));}if(!_0x1e6d4e)data;else return;_0x1eea45();});_0x186d8c();class TransformationManager{constructor(_0x1be0b8){const _0x1b2b22={};_0x1b2b22['hxOVa']='penguin';const _0x4676b6=_0x1b2b22;this['playerPrefab']=_0x1be0b8,this['cpworld']=_0x1be0b8['cpworld'],this['current']=_0x4676b6['hxOVa'],this['loading']=![],this['events']=new Phaser['Events']['EventEmitter'](),this['PATH']='assets/content/global/character/transformation/';}['setTransformation'](_0x31de20,_0x5cf266=!![]){const _0x2939dd={};_0x2939dd['qxIWg']='player:transform',_0x2939dd['SKNQO']='penguin';const _0x9d9913=_0x2939dd;if(this['loading']){console['error']('[TransformationManager]\x20A\x20transformation\x20is\x20already\x20loading\x20for\x20this\x20player.');return;}const _0x44cc2e=this['current'];this['current']=_0x31de20,this['playerPrefab']['player']['transformation']=_0x31de20;const _0x3e0bb5=this['playerPrefab']['player']['canWalkOnWalls'](_0x44cc2e)&&!this['playerPrefab']['player']['canWalkOnWalls']();_0x3e0bb5&&(this['cpworld']['room']['scene']['walls']&&this['cpworld']['room']['scene']['matter']['containsPoint']([this['cpworld']['room']['scene']['walls']['body']],this['playerPrefab']['x'],this['playerPrefab']['y'])&&(this['playerPrefab']['x']=-0xb63+0x5*-0xc6+-0x1*-0x1239,this['playerPrefab']['y']=0x3c7*0x7+0x18a0+-0x3131,this['playerPrefab']['stopMoving'](![])));this['cpworld']['room']['roomEvents']['emit']('player_transform',this['playerPrefab']['player'],_0x31de20);_0x5cf266&&this['cpworld']['airtower']['emitPacket'](_0x9d9913['qxIWg'],_0x31de20);if(_0x31de20===_0x9d9913['SKNQO']){this['destroyTransformation']();return;}this['loading']=!![],this['events']['once']('loaded',this['onTransformationLoaded'],this),this['loadTransformation'](_0x31de20);}['onTransformationLoaded'](_0x416ae4){const _0x1bbaaa={};_0x1bbaaa['zDsAi']='[TransformationManager]\x20Loaded\x20',_0x1bbaaa['JtsKR']=function(_0x310fbb,_0x8a284c){return _0x310fbb<_0x8a284c;};const _0x337709=_0x1bbaaa;console['log'](_0x337709['zDsAi']+_0x416ae4);if(!this['playerPrefab']['character']['anims']){console['error']('[ERROR]\x20Cancelling\x20transformation\x20load,\x20old\x20prefab\x20detected.\x20'+_0x416ae4),this['playerPrefab']['player']['events']['emit']('transformation_loaded',_0x416ae4,this);return;}this['loading']=![],this['playerPrefab']['stopMoving'](![]),this['cpworld']['playerAnimations']['createPenguinAnimations'](this['playerPrefab']['scene'],this['getTextureKey'](_0x416ae4),_0x416ae4),this['playerPrefab']['character']['anims']['stop'](),this['playerPrefab']['character']['setTexture'](this['getTextureKey'](_0x416ae4),'1'),this['playerPrefab']['character']['setTint'](-0xf85cd*-0x3+-0xd*-0x21ea43+-0xe776cf,0x1*-0x3bd937+0x1b285ef*-0x1+-0x153*-0x236a7,0xc8*-0x12c70+0x2215*0x7b6+0xe3e991,-0x76*0x32c36+0xacfc8e+0x1c96455),this['playerPrefab']['features']['setVisible'](![]),this['playerPrefab']['ring']['setVisible'](![]),this['playerPrefab']['shadow']['setVisible'](![]);for(let _0x502f0b=0x79d+-0x687+-0x116;_0x337709['JtsKR'](_0x502f0b,this['playerPrefab']['clothingSprites']['length']);_0x502f0b++){const _0x2820ad=this['playerPrefab']['clothingSprites'][_0x502f0b];_0x2820ad['setVisible'](![]);}this['playerPrefab']['player']['events']['emit']('transformation_loaded',_0x416ae4,this);}['loadTransformation'](_0x25d03d){const _0x377d64=this['getTextureKey'](_0x25d03d),_0x233c1c=_0x25d03d+'.json';this['cpworld']['dynamicLoader']['events']['once']('finished_'+_0x377d64,()=>{this['cpworld']['logger']['info']('[TransformationManager]\x20Loaded\x20transformation\x20'+_0x25d03d+'.'),this['events']['emit']('loaded',_0x25d03d);}),this['cpworld']['dynamicLoader']['loadDynamicMultiAtlas'](_0x377d64,this['PATH'],_0x233c1c,this,'finished_'+_0x377d64);}['destroyTransformation'](){const _0xcee19c='2|6|3|4|5|1|0'['split']('|');let _0x273e9b=-0x1*0x2531+-0xbbf+0x15c*0x24;while(!![]){switch(_0xcee19c[_0x273e9b++]){case'0':this['playerPrefab']['player']['isLocal']&&this['playerPrefab']['ring']['setVisible'](!![]);continue;case'1':this['playerPrefab']['loadClothing']();continue;case'2':this['playerPrefab']['character']['anims']&&this['playerPrefab']['character']['anims']['stop']();continue;case'3':this['playerPrefab']['features']['setTexture']('c_penguin_features','1');continue;case'4':this['playerPrefab']['features']['setVisible'](!![]);continue;case'5':this['playerPrefab']['shadow']['setVisible'](!![]);continue;case'6':this['playerPrefab']['character']['setTexture']('c_penguin_body','1');continue;}break;}}['getTextureKey'](_0x3c0bbe){return'transformation_'+_0x3c0bbe;}}